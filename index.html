<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Snake</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="application-name" content="Snake">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-title" content="Snake">
	<link rel="shortcut icon" sizes="16x16 32x32 48x48" href="src/icons/icon@48.png">
	<link rel="shortcut icon" sizes="96x96" href="src/icons/icon@96.png">
	<link rel="shortcut icon" sizes="128x128" href="src/icons/icon@128.png">
	<link rel="shortcut icon" sizes="256x256" href="src/icons/icon@256.png">
	<link rel='stylesheet' type='text/css' href='css/main.css' />
	<script src="https://unpkg.com/arweave/bundles/web.bundle.js"></script>
	<script>
		const arweave = Arweave.init({
			host: 'arweave.net', 
			port: 443,           
			protocol: 'https',  
			timeout: 20000,     
			logging: false,
		});
		arweave.network.getInfo().then(console.log);
	</script>
	

	<meta name="theme-color" content="#333">
	<link rel="manifest" href="manifest.json">

</head>

<body>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.5/p5.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.2/lodash.js"></script>
	<script src="sw.js"></script>
	<script src="src/snake.js"></script>
	<script src="src/script.js" async defer></script>

	<style>
		* {
			box-sizing: border-box;
		}
		
		body {
			padding: 0;
			margin: 0;
		}
		
		canvas {
			display: block;
			margin: 0 auto;
		}
		
		h1 {
			text-align: center;
		}
		
		@media screen and (max-width: 480px) {
			body {
				width: 100vw;
			}
		}

		.file-input{
				height: 200px;
				border: 2px dashed #62666f;
				text-align: center;
				display: flex;
				align-items: center;
				justify-content: center;
				position: relative;
				margin: auto;
				max-width: 300px;
			}
			.file-input input[type=file]{
				opacity: 0;
				position: absolute;
				background: none;
				width: 100%;
				height: 100%;
			}

	</style>

	<h1 id="title">Snake</h1>
	<p id="Score">Score: 0
	</p>
	<p id="HighScore">High Score: 0
	</p>
	<div class="file-input">
	<input type="file" id="file" onchange="login(this.files)" >
	<div id="desc">Drop a keyfile to login.</div>
	</div>
	<script>
	  if ('serviceWorker' in navigator) {
	navigator.serviceWorker.register('sw.js', {
	  scope: './'
	})
	.then(function(reg) {
	  console.log(`Service Worker Registered. Scope: ${reg.scope}`);
	});
	navigator.serviceWorker.ready.then(function(reg) {
	  console.log('Service Worker Ready');
	})
  }
	</script>
</body>